var cricapi = require("./index.js");

cricapi.cricketMatches(function(databundle) { 
	console.log("Got bundle of ", databundle.length, " bytes for cricketMatches()");
	var matches = JSON.parse(databundle).data;

	matches.forEach(function(match) { 
		cricapi.cricketScores(match.unique_id, function(_score) { 
			var score = JSON.parse(_score, null, 2);
			console.log("Got scores for unique_id ", match.unique_id, ": bundle of", _score.length, " bytes");
			console.log(score);
		});	

		cricapi.ballByBall(match.unique_id, function(_bbb) { 
			var bbb = JSON.parse(_bbb, null, 2);
			console.log("Got ball-by-ball data for unique_id ", match.unique_id, ": bundle of", _bbb.length, " bytes");
			console.log(bbb);
		});	
	});

	cricapi.playerStats(35320, function(_ps) { 
		// check sachin tendy's stuff 35320
		var ps = JSON.parse(_ps, null, 2);
		console.log("Got playerStats data for pid ", 35320, ": bundle of", _ps.length, " bytes");
		console.log(ps);
	});	

});
